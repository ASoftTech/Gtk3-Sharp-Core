// This file was generated by the Gtk# code generator.
// Any changes made will be lost if regenerated.

namespace Gtk {

	using System;
	using System.Collections;
	using System.Collections.Generic;
	using System.Runtime.InteropServices;

#region Autogenerated code
	public partial class TextTagTable : GLib.Object {

		public TextTagTable (IntPtr raw) : base(raw) {}

		[DllImport("libgtk-3-0.dll", CallingConvention = CallingConvention.Cdecl)]
		static extern IntPtr gtk_text_tag_table_new();

		public TextTagTable () : base (IntPtr.Zero)
		{
			if (GetType () != typeof (TextTagTable)) {
				CreateNativeObject (new string [0], new GLib.Value[0]);
				return;
			}
			Raw = gtk_text_tag_table_new();
		}

		[GLib.Signal("tag-added")]
		public event Gtk.TagAddedHandler TagAdded {
			add {
				this.AddSignalHandler ("tag-added", value, typeof (Gtk.TagAddedArgs));
			}
			remove {
				this.RemoveSignalHandler ("tag-added", value);
			}
		}

		[GLib.Signal("tag-removed")]
		public event Gtk.TagRemovedHandler TagRemoved {
			add {
				this.AddSignalHandler ("tag-removed", value, typeof (Gtk.TagRemovedArgs));
			}
			remove {
				this.RemoveSignalHandler ("tag-removed", value);
			}
		}

		[GLib.Signal("tag-changed")]
		public event Gtk.TagChangedHandler TagChanged {
			add {
				this.AddSignalHandler ("tag-changed", value, typeof (Gtk.TagChangedArgs));
			}
			remove {
				this.RemoveSignalHandler ("tag-changed", value);
			}
		}

		static TagChangedNativeDelegate TagChanged_cb_delegate;
		static TagChangedNativeDelegate TagChangedVMCallback {
			get {
				if (TagChanged_cb_delegate == null)
					TagChanged_cb_delegate = new TagChangedNativeDelegate (TagChanged_cb);
				return TagChanged_cb_delegate;
			}
		}

		static void OverrideTagChanged (GLib.GType gtype)
		{
			OverrideTagChanged (gtype, TagChangedVMCallback);
		}

		static void OverrideTagChanged (GLib.GType gtype, TagChangedNativeDelegate callback)
		{
			GtkTextTagTableClass class_iface = GetClassStruct (gtype, false);
			class_iface.TagChanged = callback;
			OverrideClassStruct (gtype, class_iface);
		}

		[UnmanagedFunctionPointer (CallingConvention.Cdecl)]
		delegate void TagChangedNativeDelegate (IntPtr inst, IntPtr tag, bool size_changed);

		static void TagChanged_cb (IntPtr inst, IntPtr tag, bool size_changed)
		{
			try {
				TextTagTable __obj = GLib.Object.GetObject (inst, false) as TextTagTable;
				__obj.OnTagChanged (GLib.Object.GetObject(tag) as Gtk.TextTag, size_changed);
			} catch (Exception e) {
				GLib.ExceptionManager.RaiseUnhandledException (e, false);
			}
		}

		[GLib.DefaultSignalHandler(Type=typeof(Gtk.TextTagTable), ConnectionMethod="OverrideTagChanged")]
		protected virtual void OnTagChanged (Gtk.TextTag tag, bool size_changed)
		{
			InternalTagChanged (tag, size_changed);
		}

		private void InternalTagChanged (Gtk.TextTag tag, bool size_changed)
		{
			TagChangedNativeDelegate unmanaged = GetClassStruct (this.LookupGType ().GetThresholdType (), true).TagChanged;
			if (unmanaged == null) return;

			unmanaged (this.Handle, tag == null ? IntPtr.Zero : tag.Handle, size_changed);
		}

		static TagAddedNativeDelegate TagAdded_cb_delegate;
		static TagAddedNativeDelegate TagAddedVMCallback {
			get {
				if (TagAdded_cb_delegate == null)
					TagAdded_cb_delegate = new TagAddedNativeDelegate (TagAdded_cb);
				return TagAdded_cb_delegate;
			}
		}

		static void OverrideTagAdded (GLib.GType gtype)
		{
			OverrideTagAdded (gtype, TagAddedVMCallback);
		}

		static void OverrideTagAdded (GLib.GType gtype, TagAddedNativeDelegate callback)
		{
			GtkTextTagTableClass class_iface = GetClassStruct (gtype, false);
			class_iface.TagAdded = callback;
			OverrideClassStruct (gtype, class_iface);
		}

		[UnmanagedFunctionPointer (CallingConvention.Cdecl)]
		delegate void TagAddedNativeDelegate (IntPtr inst, IntPtr tag);

		static void TagAdded_cb (IntPtr inst, IntPtr tag)
		{
			try {
				TextTagTable __obj = GLib.Object.GetObject (inst, false) as TextTagTable;
				__obj.OnTagAdded (GLib.Object.GetObject(tag) as Gtk.TextTag);
			} catch (Exception e) {
				GLib.ExceptionManager.RaiseUnhandledException (e, false);
			}
		}

		[GLib.DefaultSignalHandler(Type=typeof(Gtk.TextTagTable), ConnectionMethod="OverrideTagAdded")]
		protected virtual void OnTagAdded (Gtk.TextTag tag)
		{
			InternalTagAdded (tag);
		}

		private void InternalTagAdded (Gtk.TextTag tag)
		{
			TagAddedNativeDelegate unmanaged = GetClassStruct (this.LookupGType ().GetThresholdType (), true).TagAdded;
			if (unmanaged == null) return;

			unmanaged (this.Handle, tag == null ? IntPtr.Zero : tag.Handle);
		}

		static TagRemovedNativeDelegate TagRemoved_cb_delegate;
		static TagRemovedNativeDelegate TagRemovedVMCallback {
			get {
				if (TagRemoved_cb_delegate == null)
					TagRemoved_cb_delegate = new TagRemovedNativeDelegate (TagRemoved_cb);
				return TagRemoved_cb_delegate;
			}
		}

		static void OverrideTagRemoved (GLib.GType gtype)
		{
			OverrideTagRemoved (gtype, TagRemovedVMCallback);
		}

		static void OverrideTagRemoved (GLib.GType gtype, TagRemovedNativeDelegate callback)
		{
			GtkTextTagTableClass class_iface = GetClassStruct (gtype, false);
			class_iface.TagRemoved = callback;
			OverrideClassStruct (gtype, class_iface);
		}

		[UnmanagedFunctionPointer (CallingConvention.Cdecl)]
		delegate void TagRemovedNativeDelegate (IntPtr inst, IntPtr tag);

		static void TagRemoved_cb (IntPtr inst, IntPtr tag)
		{
			try {
				TextTagTable __obj = GLib.Object.GetObject (inst, false) as TextTagTable;
				__obj.OnTagRemoved (GLib.Object.GetObject(tag) as Gtk.TextTag);
			} catch (Exception e) {
				GLib.ExceptionManager.RaiseUnhandledException (e, false);
			}
		}

		[GLib.DefaultSignalHandler(Type=typeof(Gtk.TextTagTable), ConnectionMethod="OverrideTagRemoved")]
		protected virtual void OnTagRemoved (Gtk.TextTag tag)
		{
			InternalTagRemoved (tag);
		}

		private void InternalTagRemoved (Gtk.TextTag tag)
		{
			TagRemovedNativeDelegate unmanaged = GetClassStruct (this.LookupGType ().GetThresholdType (), true).TagRemoved;
			if (unmanaged == null) return;

			unmanaged (this.Handle, tag == null ? IntPtr.Zero : tag.Handle);
		}

		[StructLayout (LayoutKind.Sequential)]
		struct GtkTextTagTableClass {
			public TagChangedNativeDelegate TagChanged;
			public TagAddedNativeDelegate TagAdded;
			public TagRemovedNativeDelegate TagRemoved;
			IntPtr GtkReserved1;
			IntPtr GtkReserved2;
			IntPtr GtkReserved3;
			IntPtr GtkReserved4;
		}

		static uint class_offset = ((GLib.GType) typeof (GLib.Object)).GetClassSize ();
		static Dictionary<GLib.GType, GtkTextTagTableClass> class_structs;

		static GtkTextTagTableClass GetClassStruct (GLib.GType gtype, bool use_cache)
		{
			if (class_structs == null)
				class_structs = new Dictionary<GLib.GType, GtkTextTagTableClass> ();

			if (use_cache && class_structs.ContainsKey (gtype))
				return class_structs [gtype];
			else {
				IntPtr class_ptr = new IntPtr (gtype.GetClassPtr ().ToInt64 () + class_offset);
				GtkTextTagTableClass class_struct = (GtkTextTagTableClass) Marshal.PtrToStructure (class_ptr, typeof (GtkTextTagTableClass));
				if (use_cache)
					class_structs.Add (gtype, class_struct);
				return class_struct;
			}
		}

		static void OverrideClassStruct (GLib.GType gtype, GtkTextTagTableClass class_struct)
		{
			IntPtr class_ptr = new IntPtr (gtype.GetClassPtr ().ToInt64 () + class_offset);
			Marshal.StructureToPtr (class_struct, class_ptr, false);
		}

		[DllImport("libgtk-3-0.dll", CallingConvention = CallingConvention.Cdecl)]
		static extern bool gtk_text_tag_table_add(IntPtr raw, IntPtr tag);

		public bool Add(Gtk.TextTag tag) {
			bool raw_ret = gtk_text_tag_table_add(Handle, tag == null ? IntPtr.Zero : tag.Handle);
			bool ret = raw_ret;
			return ret;
		}

		[DllImport("libgtk-3-0.dll", CallingConvention = CallingConvention.Cdecl)]
		static extern void gtk_text_tag_table_foreach(IntPtr raw, GtkSharp.TextTagTableForeachNative func, IntPtr data);

		public void Foreach(Gtk.TextTagTableForeach func) {
			GtkSharp.TextTagTableForeachWrapper func_wrapper = new GtkSharp.TextTagTableForeachWrapper (func);
			gtk_text_tag_table_foreach(Handle, func_wrapper.NativeDelegate, IntPtr.Zero);
		}

		[DllImport("libgtk-3-0.dll", CallingConvention = CallingConvention.Cdecl)]
		static extern int gtk_text_tag_table_get_size(IntPtr raw);

		public int Size { 
			get {
				int raw_ret = gtk_text_tag_table_get_size(Handle);
				int ret = raw_ret;
				return ret;
			}
		}

		[DllImport("libgtk-3-0.dll", CallingConvention = CallingConvention.Cdecl)]
		static extern IntPtr gtk_text_tag_table_get_type();

		public static new GLib.GType GType { 
			get {
				IntPtr raw_ret = gtk_text_tag_table_get_type();
				GLib.GType ret = new GLib.GType(raw_ret);
				return ret;
			}
		}

		[DllImport("libgtk-3-0.dll", CallingConvention = CallingConvention.Cdecl)]
		static extern IntPtr gtk_text_tag_table_lookup(IntPtr raw, IntPtr name);

		public Gtk.TextTag Lookup(string name) {
			IntPtr native_name = GLib.Marshaller.StringToPtrGStrdup (name);
			IntPtr raw_ret = gtk_text_tag_table_lookup(Handle, native_name);
			Gtk.TextTag ret = GLib.Object.GetObject(raw_ret) as Gtk.TextTag;
			GLib.Marshaller.Free (native_name);
			return ret;
		}

		[DllImport("libgtk-3-0.dll", CallingConvention = CallingConvention.Cdecl)]
		static extern void gtk_text_tag_table_remove(IntPtr raw, IntPtr tag);

		public void Remove(Gtk.TextTag tag) {
			gtk_text_tag_table_remove(Handle, tag == null ? IntPtr.Zero : tag.Handle);
		}

#endregion
	}
}
